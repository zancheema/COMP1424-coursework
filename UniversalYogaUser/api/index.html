<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Requests Test</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <script>
        const BASE_URL = 'https://stuiis.cms.gre.ac.uk/COMP1424CoreWS/comp1424cw';
        const userId = 'group_29';
        
        async function getClassInstances() {
            const data = new URLSearchParams();
            data.append('userId', userId);
            data.append('b2', 'Submit');
            const response = await axios.post(`${BASE_URL}/GetInstances`, data,);
            // axios.post()
            return response.data;
        }
        
        async function submitBookings(bookings) {
            bookings = {userId: 'group_29', bookingList: [{instanceId: 1}, {instanceId: 3}]};
            const data = new URLSearchParams();
        
            const payload = {userId: userId, bookingList: bookings};
            data.append('jsonpayload', JSON.stringify(payload));
        
            data.append('b3', 'Submit');
        
            const response = await axios.post(`${BASE_URL}/SubmitBookings`, data);
            return response.data;
        }

        // document.getElementById('get-classes').onclick = getClassInstances;
        // document.getElementById('submit-bookings').onclick = submitBookings;
    </script>

    <button id="get-classes" onclick="getClassInstances()">Get Classes</button>
    <button id="submit-bookings" onclick="submitBookings({})">Submit Bookings</button>

    
</body>
</html>